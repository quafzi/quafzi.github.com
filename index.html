<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />
    <script src="/javascripts/lib/marked.js"></script>
    <script src="/javascripts/zepto.min.js"></script>
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>Some thoughts about Magento development by quafzi</title>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>Some thoughts about Magento development</h1>
          <h2>my blog</h2>
        </header>

        <section id="downloads" class="clearfix">
          <a href="https://github.com/quafzi" id="view-on-github" class="button"><span>View on GitHub</span></a>
        </section>

        <hr>

        <section id="main_content">
          <h3>Hi there.</h3>

<p>Magento development can be very hard. But it's even harder if you don't use professional tools and processes.</p>

<p>So, first of all: How to create a flexible project structure?</p>

<p>Magento projects usually contain</p>

<ul>
<li>plain Magento</li>
<li>extensions</li>
<li>customizations</li>
<li>other assets, like docs and dumps</li>
</ul><p>I propose to use Git for version management. Just forget Subversion - there are too many little files to be handled, so it would slow down your development.</p>

<p>Every extension should get its own Git repository, so you're able to re-use your extensions in different projects easily. Extension dependencies can be handled using Composer (I'll show that in detail).</p>

<p>For your customizations you should touch neither Magento core nor installed extensions. Write an own extension for that: That way, your extensions will stay updateable. The amount of code, you have to take care of, is reduced to your own extensions. But there is one exception: Some extensions are not compatible to each other, if they rewrite the same class. We'll come to that point later.</p>

<p>But now, since you should never touch Magento source, there should be no reason to provide it in your project's repository. In fact, you could just remove it, and define it as a dependency of your project.</p>

<p>In result, your project's repository only contains</p>

<ul>
<li>composer.json</li>
<li>composer.lock</li>
<li>maybe some docs and dumps</li>
<li>.gitignore</li>
</ul><p>Now it is very easy to create a new working environment:</p>

<pre><code>$ git clone &lt;your_project_repository.git&gt;
$ cd &lt;your_project&gt;
$ curl -s https://getcomposer.org/installer | php
$ bin/composer.phar install --dev
</code></pre>

<p>Everything fine? Probably not, because you would have to run the Magento installer first. This task could be automated, I'm working on that - so just stay tuned.</p>

<p>But unfortunately, Magento does not like symbolic links. That's why the installer even shows up after placing a app/etc/local.xml in your project folder. The only way to fix that, is probably to copy app/Mage.php to your project folder, but I assume, that this is not the only file having problems with symlinks. So it could be a better idea to copy the whole Magento source to your project folder - but please keep in mind, that all these files will have to be ignored in Git, so they should not confuse you. As far as I know, Composer does not allow to use different deployment strategies for different dependencies, but that may change.</p>

<p>That's all for now.</p>
        </section>

        <footer>
          This page was generated by <a href="http://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="http://twitter.com/jasonlong">Jason Long</a>.
        </footer>

        
      </div>
    </div>
  </body>
</html>